{% extends "musician/mail_base.html" %}
{% load i18n %}

{% block tabcontent %}
<div class="tab-pane fade show active" id="addresses" role="tabpanel" aria-labelledby="addresses-tab">
  <table class="table service-list">
    <colgroup>
      <col span="1" style="width: 25%;">
      <col span="1" style="width: 50%;">
      <col span="1" style="width: 5%;">
      <col span="1" style="width: 20%;">
    </colgroup>
    <thead class="thead-dark">
      <tr>
        <th scope="col">{% trans "Mail address" %}</th>
        <th scope="col">{% trans "Aliases" %}</th>
        <th scope="col">{% trans "Type" %}</th>
        <th scope="col">{% trans "Type details" %}</th>
      </tr>
    </thead>
    <tbody>
      {% for obj in object_list %}
      <tr>
        <td><a href="{% url 'musician:mail-update' obj.id %}">{{ obj.mail_address }}</a></td>
        <td>{{ obj.aliases|join:" , " }}</td>
        <td>{{ obj.type|capfirst }}</td>
        <td>
          {% if obj.type == 'mailbox' %}
          {% include "musician/components/usage_progress_bar.html" with detail=obj.type_detail %}
          {% else %}
          {{ obj.type_detail }}
          {% endif %}
        </td>
      </tr>
      {% endfor %}
    </tbody>
    {% include "musician/components/table_paginator.html" %}
  </table>
  <a class="btn btn-primary mt-4 mb-4" href="{% url 'musician:mail-create' %}">{% trans "New mail address" %}</a>

</div>
{% endblock %}
